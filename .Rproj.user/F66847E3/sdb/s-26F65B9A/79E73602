{
    "collab_server" : "",
    "contents" : "test2014 <- test_that(\"Estimated ages for 2014 are valid ages\", {\n  prof_info <- system.file(\"extdata\", \"2014williamsprofs.txt\", package = \"avages\")\n  prof_info_charvec <- scan(prof_info, what = \"character\", quiet = TRUE)\n  prof_info_charvec1 <- prof_info_charvec[!grepl(\"MBA\", prof_info_charvec,\n    fixed = TRUE)]\n  pos_of_BA <- grep(\"BA\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BA_dates <- pos_of_BA - 1\n  pos_of_BS <- grep(\"BS\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BS_dates <- pos_of_BS - 1\n  pos_of_BM <- grep(\"BM\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BM_dates <- pos_of_BM - 1\n  pos_of_BE <- grep(\"BE\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BE_dates <- pos_of_BE - 1\n  pos_of_AB <- grep(\"AB\", prof_info_charvec1, fixed = TRUE)\n  pos_of_AB_dates <- pos_of_AB - 1\n  pos_of_BFA <- grep(\"BFA\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BFA_dates <- pos_of_BFA - 1\n  pos_of_BPhil <- grep(\"BPhil\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BPhil_dates <- pos_of_BPhil - 1\n  pos_undergrad_dates <- c(pos_of_BA_dates, pos_of_BS_dates, pos_of_BM_dates,\n    pos_of_BE_dates, pos_of_AB_dates, pos_of_BPhil_dates, pos_of_BFA_dates)\n  years_charvec <- gsub(\",\", \"\", prof_info_charvec1[pos_undergrad_dates])\n  years_numvec <- strtoi(years_charvec)\n  ages <- 2014 - years_numvec + 22\n\n  expect_true(min(ages) > 22)\n  expect_true(max(ages) < 95)\n\n\n})\n\n\ntest2013 <- test_that(\"Estimated ages for 2013 are valid ages\", {\n  prof_info <- system.file(\"extdata\", \"2013williamsprofs.txt\", package = \"avages\")\n  prof_info_charvec <- scan(prof_info, what = \"character\", quiet = TRUE)\n  prof_info_charvec1 <- prof_info_charvec[!grepl(\"M.B.A.\", prof_info_charvec,\n    fixed = TRUE)]\n  pos_of_BA <- grep(\"B.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BA_dates <- pos_of_BA + 1\n  pos_of_BS <- grep(\"B.S.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BS_dates <- pos_of_BS + 1\n  pos_of_BM <- grep(\"B.M.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BM_dates <- pos_of_BM + 1\n  pos_of_BE <- grep(\"B.E.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BE_dates <- pos_of_BE + 1\n  pos_of_AB <- grep(\"A.B.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_AB_dates <- pos_of_AB + 1\n  pos_of_BFA <- grep(\"—B.F.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BFA_dates <- pos_of_BFA + 1\n  pos_of_BPhil <- grep(\"B.Phil\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BPhil_dates <- pos_of_BPhil + 1\n\n  pos_undergrad_dates <- c(pos_of_BA_dates, pos_of_BS_dates, pos_of_BM_dates,\n    pos_of_BE_dates, pos_of_AB_dates, pos_of_BFA_dates, pos_of_BPhil_dates)\n\n  years_charvec <- gsub(\"(\", \"\", prof_info_charvec1[pos_undergrad_dates],\n    fixed = TRUE)\n  years_charvec1 <- gsub(\")\", \"\", years_charvec, fixed = TRUE)\n  years_charvec2 <- years_charvec1[!grepl(\"[a-z]\", years_charvec1)]\n  years_charvec3 <- gsub(\"203\", \"2003\", years_charvec2, fixed = TRUE)\n  years_charvec4 <- gsub(\"2022\", \"2002\", years_charvec3, fixed = TRUE)\n  years_charvec5 <- years_charvec4[years_charvec4 != 0]\n  years_numvec <- strtoi(years_charvec5)\n  ages <- 2013 - years_numvec + 22\n\n  expect_true(min(ages) > 22)\n  expect_true(max(ages) < 95)\n\n\n})\n\n\n\ntest2012 <- test_that(\"Estimated ages for 2012 are valid ages\", {\n  prof_info <- system.file(\"extdata\", \"2012williamsprofs.txt\", package = \"avages\")\n  prof_info_charvec <- scan(prof_info, what = \"character\", quiet = TRUE)\n  prof_info_charvec1 <- prof_info_charvec[!grepl(\"M.B.A.\", prof_info_charvec,\n    fixed = TRUE)]\n  pos_of_BA <- grep(\"B.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BA_dates <- pos_of_BA + 1\n  pos_of_BS <- grep(\"B.S.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BS_dates <- pos_of_BS + 1\n  pos_of_BM <- grep(\"B.M.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BM_dates <- pos_of_BM + 1\n  pos_of_BE <- grep(\"B.E.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BE_dates <- pos_of_BE + 1\n  pos_of_AB <- grep(\"A.B.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_AB_dates <- pos_of_AB + 1\n  pos_of_BFA <- grep(\"—B.F.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BFA_dates <- pos_of_BFA + 1\n  pos_of_BPhil <- grep(\"B.Phil\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BPhil_dates <- pos_of_BPhil + 1\n\n  pos_undergrad_dates <- c(pos_of_BA_dates, pos_of_BS_dates, pos_of_BM_dates,\n    pos_of_BE_dates, pos_of_AB_dates, pos_of_BFA_dates, pos_of_BPhil_dates)\n\n  years_charvec <- gsub(\"(\", \"\", prof_info_charvec1[pos_undergrad_dates],\n    fixed = TRUE)\n  years_charvec1 <- gsub(\")\", \"\", years_charvec, fixed = TRUE)\n  years_charvec2 <- years_charvec1[!grepl(\"[a-z]\", years_charvec1)]\n  years_charvec3 <- gsub(\"203\", \"2003\", years_charvec2, fixed = TRUE)\n  years_charvec4 <- gsub(\"2022\", \"2002\", years_charvec3, fixed = TRUE)\n  years_charvec5 <- years_charvec4[years_charvec4 != 0]\n  years_numvec <- strtoi(years_charvec5)\n  ages <- 2012 - years_numvec + 22\n\n  expect_true(min(ages) > 22)\n  expect_true(max(ages) < 95)\n\n\n})\n\n\ntest2011 <- test_that(\"Estimated ages for 2011 are valid ages\", {\n  prof_info <- system.file(\"extdata\", \"2011williamsprofs.txt\", package = \"avages\")\n  prof_info_charvec <- scan(prof_info, what = \"character\", quiet = TRUE)\n  prof_info_charvec1 <- prof_info_charvec[!grepl(\"M.B.A.\", prof_info_charvec,\n    fixed = TRUE)]\n  pos_of_BA <- grep(\"B.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BA_dates <- pos_of_BA + 1\n  pos_of_BS <- grep(\"B.S.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BS_dates <- pos_of_BS + 1\n  pos_of_BM <- grep(\"B.M.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BM_dates <- pos_of_BM + 1\n  pos_of_BE <- grep(\"B.E.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BE_dates <- pos_of_BE + 1\n  pos_of_AB <- grep(\"A.B.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_AB_dates <- pos_of_AB + 1\n  pos_of_BFA <- grep(\"—B.F.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BFA_dates <- pos_of_BFA + 1\n  pos_of_BPhil <- grep(\"B.Phil\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BPhil_dates <- pos_of_BPhil + 1\n\n  pos_undergrad_dates <- c(pos_of_BA_dates, pos_of_BS_dates, pos_of_BM_dates,\n    pos_of_BE_dates, pos_of_AB_dates, pos_of_BFA_dates, pos_of_BPhil_dates)\n\n  years_charvec <- gsub(\"(\", \"\", prof_info_charvec1[pos_undergrad_dates],\n    fixed = TRUE)\n  years_charvec1 <- gsub(\")\", \"\", years_charvec, fixed = TRUE)\n  years_charvec2 <- years_charvec1[!grepl(\"[a-z]\", years_charvec1)]\n  years_charvec3 <- gsub(\"203\", \"2003\", years_charvec2, fixed = TRUE)\n  years_charvec4 <- gsub(\"2022\", \"2002\", years_charvec3, fixed = TRUE)\n  years_charvec5 <- years_charvec4[years_charvec4 != 0]\n  years_numvec <- strtoi(years_charvec5)\n  ages <- 2011 - years_numvec + 22\n\n  expect_true(min(ages) > 22)\n  expect_true(max(ages) < 95)\n\n\n})\n\n\ntest2010 <- test_that(\"Estimated ages for 2010 are valid ages\", {\n  prof_info <- system.file(\"extdata\", \"2010williamsprofs.txt\", package = \"avages\")\n  prof_info_charvec <- scan(prof_info, what = \"character\", quiet = TRUE)\n  prof_info_charvec1 <- prof_info_charvec[!grepl(\"M.B.A.\", prof_info_charvec,\n    fixed = TRUE)]\n  pos_of_BA <- grep(\"B.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BA_dates <- pos_of_BA + 1\n  pos_of_BS <- grep(\"B.S.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BS_dates <- pos_of_BS + 1\n  pos_of_BM <- grep(\"B.M.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BM_dates <- pos_of_BM + 1\n  pos_of_BE <- grep(\"B.E.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BE_dates <- pos_of_BE + 1\n  pos_of_AB <- grep(\"A.B.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_AB_dates <- pos_of_AB + 1\n  pos_of_BFA <- grep(\"—B.F.A.\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BFA_dates <- pos_of_BFA + 1\n  pos_of_BPhil <- grep(\"B.Phil\", prof_info_charvec1, fixed = TRUE)\n  pos_of_BPhil_dates <- pos_of_BPhil + 1\n\n  pos_undergrad_dates <- c(pos_of_BA_dates, pos_of_BS_dates, pos_of_BM_dates,\n    pos_of_BE_dates, pos_of_AB_dates, pos_of_BFA_dates, pos_of_BPhil_dates)\n\n  years_charvec <- gsub(\"(\", \"\", prof_info_charvec1[pos_undergrad_dates],\n    fixed = TRUE)\n  years_charvec1 <- gsub(\")\", \"\", years_charvec, fixed = TRUE)\n  years_charvec2 <- years_charvec1[!grepl(\"[a-z]\", years_charvec1)]\n  years_charvec3 <- gsub(\"203\", \"2003\", years_charvec2, fixed = TRUE)\n  years_charvec4 <- gsub(\"2022\", \"2002\", years_charvec3, fixed = TRUE)\n  years_charvec5 <- years_charvec4[years_charvec4 != 0]\n  years_numvec <- strtoi(years_charvec5)\n  ages <- 2009 - years_numvec + 22\n\n  expect_true(min(ages) > 22)\n  expect_true(max(ages) < 95)\n\n\n})\n",
    "created" : 1453887023317.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3819877910",
    "id" : "79E73602",
    "lastKnownWriteTime" : 1453887063,
    "last_content_update" : 1453887063054,
    "path" : "~/avages/tests/testthat/test.ages2.R",
    "project_path" : "tests/testthat/test.ages2.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}